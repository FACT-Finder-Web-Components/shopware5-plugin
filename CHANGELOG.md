# Changelog
## [v3.1.1] - 26.07.2022
### Add
- Configuration
  - add option to enable/disable web component features Recommendation, Campaign and SimilarProducts

## [v3.1.0] - 30.05.2022
### Add
 - add new Update FieldRoles functionality, more details in documentation
 
### Change
 - upgrade Web Components to version [4.0.10](https://github.com/FACT-Finder-Web-Components/ff-web-components/releases/tag/4.0.10)

## [v3.0.2] - 11.04.2022
### Fix
 - Searchbox
  - searchbox does not appear after clicking on magnifier icon
  
### Change
 - `jquery.search.js` plugin
  - override `onKeyUp` to prevent sending redundant native suggest calls using `ajax_search` controller
 -`Resources/views/frontend/index/index.tpl`
  - restore adding `data-search` in `frontend_index_shop_navigation` block. Lack of this directive disabled the searchbox show/hide functionality in mobile
 - Category Page
  - hide ff-asn-group for Category Path. User should use main navigation instead to correctly update the web components navigation mode state  
  
## [v3.0.1] - 13.03.2022
### Fix
 - fix `sid` attribute is defined in `ff-communication template` causing it to be generated always with same value
  
## [v3.0.0] - 04.03.2022 
### Breaking
 - public method removal
  - `OmikronFactfinder\Components\Service\TranslationService::getPropertyGroupTranslation`
            
 - drop PHP7.1 and 7.2 support

### Deprecations
  Shopware5.5 support will be dropped in the next major release
  - `BackwardCompatibility/BackwardCompatibilityCompilerPass`
  - `BackwardCompatibility/ArticleResource`
  - `OmikronFactfinder\BackwardCompatibility\ShopRegistrationServiceInterface`
  - `OmikronFactfinder\BackwardCompatibility\ShopRegistrationService`
     
### Add
 - add support for variants free text fields translations

### Fix
 - fix `OmikronFactfinder\Components\Data\Article\Fields\ArticleAttribute` could throw an error if `$detail->getAttribute()` returns null

## [v3.0.0-rc.1] - 01.03.2022 
### BREAKING
 - constructors
  **Note**: if you not override these classes in any way you can ignore this part
    - `OmikronFactfinder\Components\Data\Article\Fields\CategoryPath`
    - `OmikronFactfinder\Components\Service\TranslationService`
    - `OmikronFactfinder\Components\Data\Article\ArticleDetails`

- public method signatures
  - `Components/CategoryFilter::getValue` now returns string instead of array 
 
 - dependency injection
 **Note**: Following changes apply to the configuration files. They might cause problems after upgrade, if you redefine these services from within your application level. This is also implied by changes to the constructors above
   - components.xml
     - bind $batchSize argument to parameter `factfinder.export.batchSize` defined in parameters.xml
     - adjust `OmikronFactfinder\Components\Service\TranslationService` according to the constructor change
     - adjust `OmikronFactfinder\Components\Data\Article\ArticleDetails` according to the constructor change
     - adjust `OmikronFactfinder\Components\Service\TranslationService` according to the constructor change
    - export_fields.xml
      - explicitly define `OmikronFactfinder\Components\Data\Article\SingleFields` arguments
      - explicitly define `OmikronFactfinder\Components\Data\Article\CategoryPath` arguments   

## Add
 - implement `ff-communication/category-page` attribute
 
## Change
 - upgrade Web Components to version [4.0.8](https://github.com/FACT-Finder-Web-Components/ff-web-components/releases/tag/4.0.8)
 - remove `navigation=true` and `filter=CategoryPath` from `ff-communication/add-params`. From now filtering by category is done by `ff-communication/category-page`

### Fix
 - fix `Components/Data/Article/Fields/FilterAttributes` does not exclude categories that not originate from selected language shop root category
 - fix `OmikronFactfinder\Components\Service\TranslationService` does not correctly translate configurator groups and configurator options
 - fix `Components/Data/Article/ArticleDetails` does not exclude products that are not assigned to any category that originates from selected language shop root category
 
## [v2.0.2] - 2022.01.11
### Changed
- Use `sid` generated by the Web Components 

## [v2.0.1] - 2021.12.10
### Changed
- Upgrade Web Components to version 4.0.5

## [v2.0.0] - 2021.10.29
### Breaking
 - Removed Service\TrackingService.php and Subscriber\Tracking as they are no longer necessary once tracking is handled by Web Components

### Added
 - Added Shopware5.7 compatibility
 - Added Cart tracking script using Web Components API
 - Added Checkout tracking using `ff-checkout-tracking` element
 - Added SFTP upload

## [v1.0.5] - 2021.07.07
### Added
 - Added `is-navigation` attribute to main `ff-record-list` (one with subscribe=true) on category and manufacturer pages. This might help detecting whether Web Components should send navigation requests instead of search. 

### Fixed
- Event data coming from searchbox element is not URLencoded before redirecting to search result page

## [v1.0.4] - 2021.06.15
### Changed
 - Removed Theme_Compiler_Collect_Plugin_Javascript event listener. Now js files are placed in `Resources/frontend/js` and should be loaded automatically.

### Fixed
 - Use field `Name` instead of `Title` in ff-record template in record_list_slider.tpl.

## [v1.0.3] - 2021.05.28
### Changed
- Upgrade Web Components to version 4.0.3

### Fixed
 - Fix hiding similar-products tab causes an error if there is are no native similar article fetched from the Shopware backend for a given article 

## [v1.0.2] - 2021.05.18

### Added
- Implement `ff-similar-products` element. It replaces the default Shopware5 section `Similar Products` mechanism  

### Changed
- Upgrade Web Components to version 4.0.2

### Fixed
 - Fix Recommendation header does not hide when no records are returned from FACT-Finder
 - Fix hardcoded record-id in ff-recommendation element

## [v1.0.1] - 2021.04.21

### Added
- Added manufacturer products page support

### Changed
- Use built-in Shopware5 product slider widget with `ff-recommendation` element 

### Fixed
- An error is thrown when user tries to navigate to manufacturer products page with `Use FACT-FinderÂ® on category pages?` configuration option enabled

## [v1.0.0] - 2021.04.09
Initial module release. Includes Web Components v4.0.1

[v3.1.1]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v3.1.1
[v3.1.0]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v3.1.0
[v3.0.2]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v3.0.2
[v3.0.1]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v3.0.1
[v3.0.0]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v3.0.0
[v3.0.0-rc.1]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v3.0.0-rc.1
[v2.0.2]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v2.0.2
[v2.0.1]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v2.0.1
[v2.0.0]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v2.0.0
[v1.0.5]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v1.0.5
[v1.0.4]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v1.0.4
[v1.0.3]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v1.0.3
[v1.0.2]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v1.0.2
[v1.0.1]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v1.0.1
[v1.0.0]: https://github.com/FACT-Finder-Web-Components/shopware5-plugin/releases/tag/v1.0.0
